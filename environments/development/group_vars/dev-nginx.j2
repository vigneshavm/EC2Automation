user www-data;
worker_processes 4;
pid /run/nginx.pid;

events {
        worker_connections 768;
        # multi_accept on;
}

http {


server {
    listen 80;

    server_name exampledevstudents.neols.com;

    location / {
            
             proxy_pass http://{{ item.public_ip }}:8800/;
             proxy_http_version 1.1;
             proxy_set_header Upgrade $http_upgrade;
             proxy_set_header Connection 'upgrade';
             proxy_set_header Host $host;
             proxy_cache_bypass $http_upgrade;
        
    }
}

server {
    listen 80;

    server_name exampledevteachers.neols.com;

    location / {
        
             proxy_pass http://{{ item.public_ip }}:8801/;
             proxy_http_version 1.1;
             proxy_set_header Upgrade $http_upgrade;
             proxy_set_header Connection 'upgrade';
             proxy_set_header Host $host; 
             proxy_cache_bypass $http_upgrade;
        
    }

}
server {
    listen 80;

    server_name exampledevprincipal.neols.com;

    location / {
            
             proxy_pass http://{{ item.public_ip }}:8802/;
             proxy_http_version 1.1;
             proxy_set_header Upgrade $http_upgrade;
             proxy_set_header Connection 'upgrade';
             proxy_set_header Host $host;
             proxy_cache_bypass $http_upgrade;
        
    }
}

server {
    listen 80;

    server_name exampledevadmin.neols.com;

    location / {
        
             proxy_pass http://{{ item.public_ip }}:8803/;
             proxy_http_version 1.1;
             proxy_set_header Upgrade $http_upgrade;
             proxy_set_header Connection 'upgrade';
             proxy_set_header Host $host; 
             proxy_cache_bypass $http_upgrade;
        
    }

}
server {
    listen 80;

    server_name exampledevboard.neols.com;

    location / {
            
             proxy_pass http://{{ item.public_ip }}:8804/;
             proxy_http_version 1.1;
             proxy_set_header Upgrade $http_upgrade;
             proxy_set_header Connection 'upgrade';
             proxy_set_header Host $host;
             proxy_cache_bypass $http_upgrade;
        
    }
}



}
